---
import Distance from "./distance.astro"

const DOB = new Date("2002-03-30")
---

<div>
    <p>
        I am a <span class="age">{new Date().getFullYear() - DOB.getFullYear()}</span> year old full stack software engineer and project manager currently based in Houston, Texas.
        
        When I'm not working, I enjoy traveling to see my friends, playing the piano, or spending time with my loved ones.
    </p>
    <p>
        I love making things that make people enjoy using. Either because they're having fun or it makes their lives easier or even better. 
        Programming, to me, is a form of creative expression and I try to have fun making the things I make for myself and others. 
    </p>
</div>


<script>
    const target: HTMLElement = document.querySelector(".age")! as HTMLElement;
    const birthDate = new Date("2002-03-30");
    const currentDate = new Date();

    const ageInMilliseconds = +currentDate - +birthDate; 

    const MS_PER_YEAR   = 1000 * 60 * 60 * 24 * 365.25;
    const MS_PER_DAY    = 1000 * 60 * 60 * 24;
    const MS_PER_HOUR   = 1000 * 60 * 60;
    const MS_PER_MINUTE = 1000 * 60;

    // Calculate age in each unit
    const ageInYears    = Math.floor(ageInMilliseconds / MS_PER_YEAR);
    const ageInDays     = Math.floor((ageInMilliseconds % MS_PER_YEAR) / MS_PER_DAY);
    const ageInHours    = Math.floor((ageInMilliseconds % MS_PER_DAY) / MS_PER_HOUR);
    const ageInMinutes  = Math.floor((ageInMilliseconds % MS_PER_HOUR) / MS_PER_MINUTE);

    target.title = `That's ${ageInYears} years, `
        + `${ageInDays} days, `
        + `${ageInHours} hours, and `
        + `${ageInMinutes} minutes old!`
</script>